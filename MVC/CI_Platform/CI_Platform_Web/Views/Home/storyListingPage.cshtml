@using CI_Platform_Web.Entities.Models;

@model IEnumerable<Story>;


@{
    Layout = "_LayoutSingleHeader";
}

<head>
       <link rel="stylesheet" href="~/css/storyListingPage.css" />
</head>

<hr class="line mt-0 mb-0">

<!-- Share Your Story Section -->

<div class="shareYourStoryDiv">
    <div class="carousel-inner">

        <div class="carousel-item active">
            <img src="~/images/Grow-Trees-On-the-path-to-environment-sustainability-login.png" class="d-block w-100"
                 alt="...">
            <div class="carousel-caption  d-md-block">
                <p class="slideCaption">
                    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Impedit,
                    architecto neque sint ducimus autem repudiandae, porro ut quod eaque quibusdam eum voluptates.
                </p>
                <a asp-action="shareStory" asp-controller="Home">
                    <button class="shareYourStoryBtn">Share your Story <i class="bi bi-arrow-right"></i></button>
                </a>
            </div>
        </div>

    </div>
</div>

<!--Listed Story -->

<div class="container mt-4">
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">

        @foreach (var i in Model)
        {
            <div class="col ">
                <div class="card">

                    <div class="cardHead">
                        @*<img src="~/images/Grow-Trees-On-the-path-to-environment-sustainability.png" class="card-img"
                         alt="...">*@

                        @if (i.StoryMedia.FirstOrDefault() == null)
                        {
                            <img src="~/images/404-Page-image.png" class="card-img" alt="..." style="max-height:199px">
                        }
                        else
                        {
                            <img src="@i.StoryMedia.FirstOrDefault().Path" class="card-img" alt="..." style="max-height:199px">
                        }
                    </div>

                    <a asp-area="" asp-controller="Home" asp-action="storyDetail" asp-route-storyId=@i.StoryId>
                        <button class="viewDetailBtn">View Details <i class="bi bi-arrow-right"></i></button>
                    </a>

                    <div class="shape">
                        <p>Customer Experience</p>
                    </div>

                    <div class="cardBody">

                        <div class="card-body mt-10">
                            <h4 class="card-title">@i.Title</h4>
                            <p class="card-text">
                                @Html.Raw(@i.Description)
                            </p>
                        </div>

                    </div>

                    <div class="cardFooter">
                        <img src="~/images/volunteer1.png" alt="volunteer" class="volunteerImg">
                        <p class="mb-0">@i.User.FirstName</p>
                    </div>

                </div>
            </div>
        }


    </div>
</div>